- step:
    name: datapull
    image: python:3.7
    command:
      - pip install -r ./requirements.txt
      - python raw_data_pull.py {parameters}
    parameters:
      - name: cities
        type: string
        pass-as: --cities={v}
        default: turku,tampere,helsinki
        optional: false
      - name: throttle_delay
        type: integer
        pass-as: --throttle_delay={v}
        default: 3
        optional: false
- step:
    name: hello
    image: python:3.7
    command:
      - echo "Hello!"
    inputs:
      - name: hello
- pipeline:
    name: datapull-pipeline
    nodes:
      - name: datapull
        type: execution
        step: datapull
      - name: helloworld
        type: execution
        step: hello
    edges:
      - [datapull.output.*, helloworld.input.hello]
