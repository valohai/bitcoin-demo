- step:
    name: datapull
    image: python:3.7
    command:
      - pip install -r ./requirements.txt
      - python raw_data_pull.py {parameters}
    parameters:
      - name: cities
        type: string
        pass-as: --cities={v}
        default: turku,tampere,helsinki
        optional: false
      - name: throttle_delay
        type: integer
        pass-as: --throttle_delay={v}
        default: 3
        optional: false
  - pipeline:
      name: datapull-pipeline
      nodes:
        - name: datapull
          type: execution
          step: datapull
